## 代码优化设计
### version1版本
这个代码可能存在哪些问题呢？
- 如果if分支变多的话，代码就会变得臃肿
- 如果你需要接入一种新的类型，只能在源代码修改

说得专业一点点，就是以上代码，违背了面向对象的开闭原则和单一原则。
> 开闭原则：（对于扩展是开放的，对于修改是封闭的），增加或者删除某个逻辑，都需要修改原来的代码
>
> 单一原则：（规定一个类应该只有一个发生变化的原因），修改任何类型的分支逻辑代码，都需要修改当前类的代码

### version2版本
>大家是否还记得，如果代码中有多个if...else等条件分支，并且每个条件分支，可以封装起来替换的，我们就可以使用策略模式来优化。

回忆一下，什么是策略模式呢？

策略模式定义了算法族，分别封装起来，让它们之间可以相互替换，此模式让算法的变化独立于使用算法的的客户。这个策略模式的定义是不是有点抽象呢？打个通俗易懂的比喻：

策略模式针对一组算法，将每一个算法封装到实现共同接口的不同独立的类中，从而使得它们可以相互替换。策略模式我们一般是怎么定义的呢？
一个接口或者抽象类，里面两个方法（一个方法匹配类型，一个可替换的逻辑实现方法）

不同策略的差异化实现(就是说，不同策略的实现类)

所以，对于原有的伪代码流程，我们就可以定义企业客群类型的策略实现类，和市场营销类型的策略实现类。这两个策略实现类都实现了两个方法，一个方法是匹配类型的，就是返回原始代码if...else条件判断的类型;然后另外个方法，就是if...else条件的实现内容。

### 参考
[link](https://mp.weixin.qq.com/s/tKEXDsmOZwNCW5IjZwwxAQ)

> 原链接还有模板方法的引入，对于golang觉得没太必要，实在代码臃肿到了这个地步就可以按照这个逻辑优化，对于目前的这种简单抽象就足以满足需求。